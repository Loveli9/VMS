<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>可视化度量平台</title>
    <!-- <link rel="stylesheet" href="../../resources/bootstrap/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="../../resources/bootstrap/bootstrap-select.min.css" type="text/css" />
    <link rel="stylesheet" href="../../resources/easyui/themes/default/easyui.css" type="text/css" />
    <link rel="stylesheet" href="css/jquery-ui.min.css" type="text/css" />
    <link rel="stylesheet" href="css/DefaultSkin.css" type="text/css" />
    <link rel="stylesheet" href="../../resources/bootstrap/bootstrap-table.min.css" type="text/css" />
    <script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="../../resources/easyui/jquery.easyui.min.js"></script>
    <script type="text/javascript" src="../../resources/jquery/jquery.form.js"></script>
    <script type="text/javascript" src="../../resources/bootstrap/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../resources/bootstrap/bootstrap-select.min.js"></script>
    <script type="text/javascript" src="../../resources/js/comm/datagrid-header-tooltip.js"></script>
    <script type="text/javascript" src="js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="js/echarts.common.min.js"></script>
    <script type="text/javascript" src="../../resources/underscore/underscore.js"></script>
    <script type="text/javascript" src="../../resources/js/comm/comm.js"></script>
    <script type="text/javascript" src="../../resources/bootstrap/bootstrap-table.min.js"></script>
    <script type="text/javascript" src="js/selectComm.js"></script> -->
    <link rel="stylesheet" type="text/css" href="../../resources/bootstrap/bootstrap.min.css" />
    <link rel="stylesheet" type="text/css" href="../../resources/bootstrap/bootstrap-switch.min.css" />
    <link rel="stylesheet" href="css/DefaultSkin.css" type="text/css" />
    <link rel="stylesheet" href="../../resources/bootstrap/bootstrap-datetimepicker.min.css" type="text/css" />  
   	<link rel="stylesheet" href="css/toastr.min.css" type="text/css" />
   	<link rel="stylesheet" href="css/Icp-ci-Input.css" type="text/css" />
    <script type="text/javascript" src="js/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="../../resources/jquery/jquery.form.js"></script>
    <script type="text/javascript" src="../../resources/easyui/jquery.easyui.min.js"></script>
    <!-- 消息提示插件 -->
    <script type="text/javascript" src="js/toastr.min.js"></script>
    <script type="text/javascript" src="../../resources/js/comm/bootstrap-message.js"></script>
    <script type="text/javascript" src="js/echarts.common.min.js"></script>
    <script type="text/javascript" src="../../resources/js/comm/comm.js"></script>
    <script type="text/javascript" src="../../resources/underscore/underscore.js"></script>
    <script type="text/javascript" src="../../resources/bootstrap/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../resources/bootstrap/bootstrap-switch.min.js"></script>

    
	<link rel="stylesheet" href="../../resources/bootstrap/bootstrap-table.min.css" type="text/css" />
	<link rel="stylesheet" href="../../resources/bootstrap/animate.min.css" type="text/css" />
	<link rel="stylesheet" href="../../resources/bootstrap/bootstrapValidator.min.css" type="text/css" />
	<link rel="stylesheet" href="../../resources/bootstrap/bootstrap-editable.css" type="text/css" />	
	<script type="text/javascript" src="../../resources/bootstrap/bootstrap-table.min.js"></script>
	<script type="text/javascript" src="../../resources/bootstrap/bootstrap-datetimepicker.min.js"></script>
	<script type="text/javascript" src="../../resources/bootstrap/bootstrap-datetimepicker.zh-CN.js"></script>
	<script type="text/javascript" src="../../resources/bootstrap/jquery.serializejson.js"></script>
	<script type="text/javascript" src="../../resources/bootstrap/bootstrap-table-zh-CN.min.js"></script>
	<script type="text/javascript" src="../../resources/bootstrap/bootstrapValidator.min.js"></script>
	<script type="text/javascript" src="../../resources/bootstrap/bootstrap-table-editable.js"></script>
	<script type="text/javascript" src="../../resources/bootstrap/bootstrap-editable.js"></script>
	<script type="text/javascript" src="../../resources/js/comm/datagrid-header-tooltip.js"></script>
<!-- 	<script type="text/javascript" src="js/selectComm.js"></script> -->
	<script src="js/extendPagination.js"></script>
    <script type="text/javascript" src="js/teamManagement.js"></script>
    <style>
	#nav { 
			width:30px; height: 65px;  position:fixed;right:2px;top:50%;z-index: 9999;
		}
	.retop{
			width:30px;height:30px;float:right;margin-top: 2px;
		}
	.retop2{
			float:right;margin-top: 2px;
	}
	.retop span{
		color:white;
	}
	.trans {
		display: none;
		width: 54px;
		height: 37px;
		opacity: 0;
		position: relative;
		margin-top: -37px;
		cursor: pointer;
	}
/* 	.datagrid-view{
		height: 840px!important;
	} */
	.panel{
		background-color: #fafafa!important;
	}
	a{
    	text-decoration: none;
    	color: rgba(255,255,255,.5);
    }
    a:hover{
    	text-decoration: none;
    	color: rgba(255,255,255,1);
    	cursor: pointer;
    }
    .btn-default{
    	height: 34px;
    	line-height: 16px;
    	border-radius: 0px;
    }
    .form-control{
    	border-radius: 0px;
    }
	.but1{
    	float: right;
	    width: 82px;
	    height: 30px;
	    background-color: #e41f2b;
	    color: #ffffff;
	    cursor: pointer;
	    border: none;
	    border-radius: 4px;
	    font-size: 15px;
	    margin-right: 15px;
	    line-height: 30px;
    }
    .but1:hover{
    	background-color: #ff0313;
    }
    </style>
    
    <script type="text/javascript"> 
        function changeTab(obj) {
            obj.className = 'tabs-a-current';
            if (obj.id == "tab1") {
                document.getElementById('tab2').className = '';
                document.getElementById('tab1Page').style.display = 'block';
                document.getElementById('tab2Page').style.display = 'none';
            }
            else {
                document.getElementById('tab1').className = '';
                document.getElementById('tab1Page').style.display = 'none';
                document.getElementById('tab2Page').style.display = 'block';
            }
        }
        $(document).ready(function(){
      		$("#datepicker").datepicker({
      	      changeMonth: true,
      	      changeYear: true,
      	      dateFormat: 'yy-mm-dd',
      	      todayButton: true,           
      	      prevButton: true,            
      	      nextButton: true,
      	    });
		})
    </script>
</head>
<body style="line-height: 24px;">
    <div style="height: 47px;border-bottom: 2px #e2e3e4 solid;margin-left: 50px;margin-right: 50px;margin-top: 20px;font-size: 20px;">
		<span>团队列表</span>
		<!-- <input name="" type="button" value="导出" class="but1" id="exportBtn" style=""/> -->
		<!-- <input name="" type="button" value="导入" class="but1" id="importBtn" data-toggle="modal" data-target="#import" style="margin-right:1px;"/> -->
	</div>
    <div class="main-content" style="margin-top: 10px;">
        <table width="100%" border="0" cellspacing="0" cellpadding="0">
            <tr>
            	<td colspan="2">
                    <div id="divTable" style="text-align:center;border: 0px #666 solid;margin-top:20px;margin-left: 50px;margin-right: 50px;">
                        <div style="height: 30px;margin-bottom: 20px;margin-right:-48px;">
						<!-- <a id="queryBtn" style="margin-right: 50px;float: right;"><img src="images/shuaxinicon.png" alt="刷新" width="30px" height="30px"></a> -->
							<a id="queryBtn" class="but1" style="margin-right: 50px;float: right;">查询</a>
	                        	<input name="projMgmr" type="text" class="s3 form-control" placeholder="请输入团队经理" id="projMgmr" style="width: 110px;float: right;margin-right: 10px;padding: 0px;height: 32px;"/>
							<input name="projName" type="text" class="s3 form-control" placeholder="请输入团队名称" id="projName" style="width: 130px;float: right;margin-right: 10px;padding: 0px;height: 32px;"/>
                        </div>
                        <div style="width:100%; margin:10px auto 0 auto; background-color: #fafafa;">
                         	<div id="projSummaryTable" style="display:block;width:100%;"></div>
                        </div>
                  	</div>
            	</td>
        	</tr>
        </table>
    </div>
    <div class="modal fade" id="import" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content" style="top: 100px;width:650px;">
				<div class="modal-header" style="border-bottom-width: 5px;padding-top: 10px;padding-bottom: 10px;">
					<h4 class="modal-title" id="uploadModalLabel" style="display: inline; margin-right: 350px;">
						导入团队信息
					</h4>
					<button type="button" data-dismiss="modal" style="border:1px #367FA9 solid; background-color: white; color: #367FA9; border-radius: 4px; width: 60px; height: 32px; margin-right: 15px;outline: none;">取消</button>
					<button type="button" id="submitImport" data-dismiss="modal" style="border:1px #367FA9 solid; background-color: #367FA9; color: white; border-radius: 4px; width: 60px; height: 32px;outline: none;">确定</button>
				</div>
			<!--<div style="padding-left: 20px;padding-top: 20px;font-size: 13px;color: #ababab;">导入顺序:项目信息->361成熟度->(关键角色->RDPM)->(项目成员->档案信息)->工时->星级评估</div> -->
				<div class="modal-body" style="height: 150px;width: 680px">
					<div style="height: 25px;">
						<div style="width:95%">
			                <div class="input-group" style="display: flex;align-items: center;">
	                    		<table style="width: 570px; height: 22px; margin-left: 0px;">
	                    			<tr align="center" valign="middle" id ="select">
	                    				<input type="radio" name="radio1" id="team" th_value="团队导入" templateName="team-info" value="/teamInfo/import" checked="true" style="height: 18px; width: 18px;" />
	                    				<th width="50" style="text-align: left; font-size: 8px;padding-top:3px;padding-left:2px;">团队信息</th>
	                    		<!--	<th style="text-align: right;"><input type="radio" name="radio1" id="project" th_value="项目导入" templateName="project-info" value="/project/import" style="height: 18px; width: 18px;" /></th>
	                    				<th width="50" style="text-align: left; font-size: 8px;">项目信息</th>
	                    				<th style="text-align: right;"><input type="radio" name="radio1" id="361"  th_value="361导入" templateName="361Maturity" value="/project/importMaturityAssessment" style="height: 18px; width: 18px;" /></th>
	                    				<th width="59" style="text-align: left; font-size: 8px;">361成熟度</th>
	                    				<th style="text-align: right;"><input type="radio" name="radio1" id="role" th_value="角色导入" templateName="Key-roles" value="/project/importKeyRoles" style="height: 18px; width: 18px;" /></th>
	                    				<th width="50" style="text-align: left; font-size: 8px;">关键角色</th>
	                    				<th style="text-align: right;"><input type="radio" name="radio1" id="rdpm" th_value="RDPM导入" templateName="RDPM-test" value="/project/importRDPM" style="height: 18px; width: 18px;" /></th>
	                    				<th width="40" style="text-align: left; font-size: 8px;">RDPM</th>
	                    				<th style="text-align: right;"><input type="radio" name="radio1" id="people" th_value="成员导入" templateName="OMP-data" value="/project/importpromember"style="height: 18px; width: 18px;" /></th>
	                    				<th width="50" style="text-align: left; font-size: 8px;">项目成员</th>
	                    				<th style="text-align: right;"><input type="radio" name="radio1" id="peopleadd" th_value="档案信息" templateName="Archives-information" value="/project/importpromemberOMBadd"style="height: 18px; width: 18px;" /></th>
	                    				<th width="50" style="text-align: left; font-size: 8px;">档案信息</th>
	                    			    <th style="text-align: right;"><input type="radio" name="radio1" id="work" th_value="工时导入" templateName="Clock-data" value="/project/importclock" style="height: 18px; width: 18px;" /></th>
	                    				<th width="30" style="text-align: center; font-size: 10px;">工时</th>
	                    				<th style="text-align: right;"><input type="radio" name="radio1" id="star" th_value="星级评估" templateName="Star-data" value="/project/importstar" style="height: 18px; width: 18px;" /></th>
	                    				<th width="50" style="text-align: center; font-size: 10px;">星级评估</th>   -->
	                    			</tr>
	                    		</table>
			                </div><!-- /input-group -->
			            </div><!-- /.col-lg-6 -->
					</div>
					 <div style="height: 80px;">
						<div style="width:65%">
			                <div class="input-group" style="display: flex;">
			                   	 <div style="display:table-cell;width: 27%;margin-top: 27px;width: 89px">文件路径：</div><input type="text" readonly="readonly" id="filePathInfo" class="form-control" style="margin-top: 28px">
			                    <span class="input-group-btn">
			                    	<form method="post" id="importForm"  enctype="multipart/form-data">
				                        <button class="btn btn-default" type="button" id="importBtn" style="margin-top: 28px;height: 35px;border-radius:0px;width: 51px">浏览</button>
				                        <a class="btn btn-default"  id="templateDownload" style="margin-top: 30px;border-radius:0px;width: 84px">下载模板</a>
				                        <input type="file" class="trans" id="importInput" name="file" accept="application/vnd.ms-excel,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"></input>
				                    </form>
			                    </span>
			                </div><!-- /input-group -->
			            </div><!-- /.col-lg-6 -->
					</div>
				</div>
			</div><!-- /.modal-content -->
		</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
	<div class="modal fade" id="savetoop" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
			<div class="modal-dialog">
				<div class="modal-content" style="top: 300px;">
					<div class="modal-body" style="padding: 15px;">
						<div style="text-align: center;">
							<span id="dataAcquisition" style="font-size: 14px;">查询中。。。</span>
						</div>
					</div>
				</div><!-- /.modal-content -->
			</div><!-- /.modal-dialog -->
	</div><!-- /.modal -->
    <script type="text/javascript">
    	function moreBtn(){
    		var n=document.getElementById("check");
    		var ss=document.getElementById("search");
    		var mb=document.getElementById("moreBtn");
    		var jt=document.getElementById("jiantou");
    		var fieldset=document.getElementById("fieldset");
    		var more1=document.getElementById("more1");
    		var more2=document.getElementById("more2");
    		var more3=document.getElementById("more3");
    		if(n.value==0){
    			n.value=1;
	    		ss.style.height="95%";
	    		fieldset.style.height="93%";
	    		mb.value="收起筛选";
	    		more1.style.display="";
	    		more2.style.display="none";
	    		more3.style.display="";
	    		jt.style.borderTop="0px #ffffff solid";
	    		jt.style.borderBottom="8px #367FA9 solid";
	    		jt.style.borderLeft="3px #ffffff solid";
	    		jt.style.borderRight="3px #ffffff solid";
    		}else if(n.value==1){
    			n.value=0;
    			ss.style.height="65%";
    			fieldset.style.height="70%";
    			mb.value="详细筛选";
	    		more1.style.display="none";
	    		more2.style.display="none";
	    		more3.style.display="none";
	    		jt.style.borderTop="8px #367FA9 solid";
	    		jt.style.borderBottom="0px #ffffff solid";
	    		jt.style.borderLeft="3px #ffffff solid";
	    		jt.style.borderRight="3px #ffffff solid";
    		}
    	}
    	
		function showDateTime(){   
    	  var today=new Date();
    	  var year=today.getYear()+1900;
    	  var month=today.getMonth()+1;
    	  var day=today.getDate();
    	  var hour=today.getHours()>=0&&today.getHours()<10?"0"+today.getHours():today.getHours();
    	  var minute=today.getMinutes()>=0&&today.getMinutes()<10?"0"+today.getMinutes():today.getMinutes();
    	  var second=today.getSeconds()>=0&&today.getSeconds()<10?"0"+today.getSeconds():today.getSeconds();
		  var date=year+"/"+month+"/"+day+"  "+hour+":"+minute+":"+second;   
    	  $("#localTime").html(date);
		} 
	
		$("#clearBtn").click(function(){
			$("#projName").val("");
			$("#projMgmr").val("");
			$('#usertype1').selectpicker("val",[]);
			$('#usertype2').selectpicker("val",["在行"]);
			$('#usertype3').selectpicker("val",[]);
			$('#usertype4').selectpicker("val",[]);
			$("#usertype4").empty();
			$('#usertype4').prev('div.dropdown-menu').find('ul').empty();
			$('#usertype5').selectpicker("val",[]);
			$("#usertype5").empty();
			$('#usertype5').prev('div.dropdown-menu').find('ul').empty();
			$('#usertype6').selectpicker("val",[]);
			$('#usertype7').selectpicker("val",[]);
			$("#usertype7").empty();
			$('#usertype7').prev('div.dropdown-menu').find('ul').empty();
			$('#usertype8').selectpicker("val",[]);
			$("#usertype8").empty();
			$('#usertype8').prev('div.dropdown-menu').find('ul').empty();
		})
		
		//回到顶部
		function callback(){
			$("html,body").animate({scrollTop:0}, 200);
		};
		
		function exportEvent(color){
 			var $eleForm = $("<form method='POST'></form>");
	        $eleForm.attr("action",getRootPath() + "/project/export361");
	        $eleForm.append($('<input type="hidden" name="color" value="'+ color +'">'));
	        $eleForm.append($('<input type="hidden" name="area" value="'+ ($("#usertype1").selectpicker("val")==null?"":$("#usertype1").selectpicker("val").join()) +'">'));
	        $eleForm.append($('<input type="hidden" name="hwpdu" value="'+ ($("#usertype3").selectpicker("val")==null?"":$("#usertype3").selectpicker("val").join()) +'">'));
	        $eleForm.append($('<input type="hidden" name="hwzpdu" value="'+ ($("#usertype4").selectpicker("val")==null?"":$("#usertype4").selectpicker("val").join()) +'">'));
	        $eleForm.append($('<input type="hidden" name="pduSpdt" value="'+ ($("#usertype5").selectpicker("val")==null?"":$("#usertype5").selectpicker("val").join()) +'">'));
	        $eleForm.append($('<input type="hidden" name="bu" value="'+ ($("#usertype6").selectpicker("val")==null?"":$("#usertype6").selectpicker("val").join()) +'">'));
	        $eleForm.append($('<input type="hidden" name="pdu" value="'+ ($("#usertype7").selectpicker("val")==null?"":$("#usertype7").selectpicker("val").join()) +'">'));
	        $eleForm.append($('<input type="hidden" name="du" value="'+ ($("#usertype8").selectpicker("val")==null?"":$("#usertype8").selectpicker("val").join()) +'">'));
	        $(document.body).append($eleForm);
	        //提交表单，实现下载
	        $eleForm.submit();
		};
		
		$(document).ready(function(){
			
			//鼠标移入移出悬浮框事件
		    $("#retop").mouseover(function() {
		    	document.getElementById("retop").style.display="none";
		    	document.getElementById("retop2").style.display="inline";
		    });
		    $("#retop2").mouseout(function() {
		    	document.getElementById("retop").style.display="inline";
		    	document.getElementById("retop2").style.display="none";
		    });
		    
		    $("#feedback").mouseover(function() {
		    	document.getElementById("back").style.color="#367FA9";
		    });
		    $("#feedback").mouseout(function() {
		    	document.getElementById("back").style.color="white";
		    });
    
			
			
/* 			$('#usertype1').selectpicker("selectAll");//页面加载时默认全选
			$('#usertype3').selectpicker("selectAll");
			$('#usertype4').selectpicker("selectAll");
			$('#usertype5').selectpicker("selectAll");
			$('#usertype6').selectpicker("selectAll");
			$('#usertype7').selectpicker("selectAll");
			$('#usertype8').selectpicker("selectAll"); */			
			/* var areaName=$(".list .active .areaActive",parent.document).text();
			if(''!=areaName&&undefined!=areaName){			
				$('#usertype1').selectpicker('val',areaName); 
				$('#usertype1').selectpicker('refresh');
				$('#queryBtn').click();
			}
			var depId=$(".crumbs .active",parent.document).attr("data-id");
			
			if(''!=depId&&undefined!=depId){		
				moreBtn();
				if(1==depId){
								
				}else if(2==depId){
					var yijiId=$(".list .yiji>.active",parent.document).attr("data-id");
					var erjiId=$(".list .erji>.active",parent.document).attr("data-id");
					var sanjiId=$(".list .sanji>.active",parent.document).attr("data-id");
					if(''!=yijiId&&undefined!=yijiId){
						$('#usertype3').selectpicker('val',yijiId);
						$('#usertype3').selectpicker('refresh');
						queryZCPX();
						debugger
						if(''!=erjiId&&undefined!=erjiId){
							$('#usertype4').selectpicker('val',erjiId);	
							$('#usertype4').selectpicker('refresh');
							queryPDUorSPDT();
							if(''!=sanjiId&&undefined!=sanjiId){
								$('#usertype5').selectpicker('val',sanjiId);	
								$('#usertype5').selectpicker('refresh');
							}
						}
					}		
				}
			}
			
			showDateTime(); */
		})
    </script>
</body>
</html>